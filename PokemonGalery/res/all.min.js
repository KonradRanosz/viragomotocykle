/* all.min.js - Lucid skin scripts */
var VER='1.1.4',DEBUG=false;
;Texts = {closeWindow:'Close window',share:'Share',shareOn:'Share on',checkThisOut:'Check this out',localWarning:'CanÂ´t share local albums. Please upload your album first!',newItem:'NEW',atFirstPage:'At first page',atLastPage:'At last page',atLastPageQuestion:'Where to go next?',startOver:'Start over',backToHome:'Back to home',upOneLevel:'Up one level',previousFolder:'Previous folder',nextFolder:'Next folder',download:'Download',print:'Print',metaBtn:'Photo data',clickToOpen:'Click to open this document with the associated viewer',today:'today',yesterday:'yesterday',daysAgo:'{0} days ago',monthsAgo:'{0} months ago',yearsAgo:'{0} years ago',locationWarning:'Works only when uploaded',cookiePolicyText:'This album is using cookies to remember your preferences. It does not track you, nor does it store any personal data.',cookiePolicyAgree:'Got it',cookiePolicyLearnMore:'Learn more',gdprComplianceText:'This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.',allowAll:'Allow all',denyAll:'Deny all',allowSelected:'Allow selected'};
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.1
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return function(n){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}return i.m=n,i.c=o,i.p="",i(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,n=null,a="initial",u=a,o=Date.now();try{window.sessionStorage.getItem("what-input")&&(a=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(u=window.sessionStorage.getItem("what-intent"))}catch(e){}var d=["button","input","select","textarea"],i=[],c=[16,17,18,91,93],w=[],p={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},r=!1,s={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},l=!1;try{var e=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,e)}catch(e){}var h=function(){var e=!!l&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",m),window.addEventListener("pointermove",y)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",m),window.addEventListener("MSPointerMove",y)):(window.addEventListener("mousedown",m),window.addEventListener("mousemove",y),"ontouchstart"in window&&(window.addEventListener("touchstart",m,e),window.addEventListener("touchend",m))),window.addEventListener(b(),y,e),window.addEventListener("keydown",m),window.addEventListener("keyup",m),window.addEventListener("focusin",g),window.addEventListener("focusout",E)},m=function(e){var t=e.which,n=p[e.type];"pointer"===n&&(n=L(e));var o=!w.length&&-1===c.indexOf(t),i=w.length&&-1!==w.indexOf(t),r="keyboard"===n&&t&&(o||i)||"mouse"===n||"touch"===n;if(x(n)&&(r=!1),r&&a!==n){a=n;try{window.sessionStorage.setItem("what-input",a)}catch(e){}v("input")}if(r&&u!==n){var s=document.activeElement;if(s&&s.nodeName&&-1===d.indexOf(s.nodeName.toLowerCase())||"button"===s.nodeName.toLowerCase()&&!k(s,"form")){u=n;try{window.sessionStorage.setItem("what-intent",u)}catch(e){}v("intent")}}},v=function(e){t.setAttribute("data-what"+e,"input"===e?a:u),S(e)},y=function(e){var t=p[e.type];if("pointer"===t&&(t=L(e)),M(e),!r&&!x(t)&&u!==t){u=t;try{window.sessionStorage.setItem("what-intent",u)}catch(e){}v("intent")}},g=function(e){e.target.nodeName?(n=e.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",n),e.target.classList&&e.target.classList.length&&t.setAttribute("data-whatclasses",e.target.classList.toString().replace(" ",","))):E()},E=function(){n=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},L=function(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},x=function(e){var t=Date.now(),n="mouse"===e&&"touch"===a&&t-o<200;return o=t,n},b=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},S=function(e){for(var t=0,n=i.length;t<n;t++)i[t].type===e&&i[t].fn.call(void 0,"input"===e?a:u)},M=function(e){s.x!==e.screenX||s.y!==e.screenY?(r=!1,s.x=e.screenX,s.y=e.screenY):r=!0},k=function(e,t){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return e.closest(t);do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(p[b()]="mouse",h(),v("input"),v("intent")),{ask:function(e){return"intent"===e?u:a},element:function(){return n},ignoreKeys:function(e){c=e},specificKeys:function(e){w=e},registerOnChange:function(e,t){i.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,n=i.length;t<n;t++)if(i[t].fn===e)return t}(e);(t||0===t)&&i.splice(t,1)}}}()}])});
//# sourceMappingURL=maps/what-input.min.js.map
window.console=window.console||{log:function(t){}},String.prototype.hasOwnProperty("trim")||(String.wsp=[],String.wsp[9]=!0,String.wsp[10]=!0,String.wsp[11]=!0,String.wsp[12]=!0,String.wsp[13]=!0,String.wsp[32]=!0,String.wsp[133]=!0,String.wsp[160]=!0,String.wsp[5760]=!0,String.wsp[6158]=!0,String.wsp[8192]=!0,String.wsp[8193]=!0,String.wsp[8194]=!0,String.wsp[8195]=!0,String.wsp[8196]=!0,String.wsp[8197]=!0,String.wsp[8198]=!0,String.wsp[8199]=!0,String.wsp[8200]=!0,String.wsp[8201]=!0,String.wsp[8202]=!0,String.wsp[8203]=!0,String.wsp[8232]=!0,String.wsp[8233]=!0,String.wsp[8239]=!0,String.wsp[8287]=!0,String.wsp[12288]=!0,String.prototype.trim=function(){var t=this+"",e=t.length;if(e){var n=String.wsp,r=0;for(--e;e>=0&&n[t.charCodeAt(e)];)--e;for(++e;r<e&&n[t.charCodeAt(r)];)++r;t=t.substring(r,e)}return t}),String.prototype.hasOwnProperty("trunc")||(String.prototype.trunc=function(t){var e=this+"";if(e.length<=t)return e.toString();var n=e.substring(0,t-1),r=n.lastIndexOf(" ");return(r>6&&n.length-r<20?n.substring(0,r):n)+"..."}),String.prototype.hasOwnProperty("startsWith")||(String.prototype.startsWith=function(t){return 0===(this+"").indexOf(t)}),String.prototype.hasOwnProperty("endsWith")||(String.prototype.endsWith=function(t){return(this+"").substring(this.length-t.length)===t}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.unCamelCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},String.prototype.getExt=function(){var t=this+"",e=t.lastIndexOf(".");return e<=0||e>=t.length-1?"":t.substring(e+1)},String.prototype.stripExt=function(){var t=this+"",e=t.lastIndexOf(".");return e<=0||e>t.length-1?t:t.substring(0,e)},String.prototype.hasExt=function(t){var e=this+"",n=e.lastIndexOf(".");return n>=0&&(e=e.substring(n+1).toLowerCase(),(t+",").indexOf(e+",")>=0)},String.prototype.replaceExt=function(t){var e=this+"",n=e.lastIndexOf(".");return n<=0?e:e.substring(0,n+1)+t},String.prototype.fixExtension=function(){return(this+"").replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")},String.prototype.getDir=function(){var t=(this+"").split("#")[0];return t.substring(0,t.lastIndexOf("/")+1)},String.prototype.getFile=function(){var t=(this+"").split("#")[0];return t.substring(t.lastIndexOf("/")+1)},String.prototype.getRelpath=function(t){var e=this+"",n=e.lastIndexOf("#");for(-1===n?n=e.length-1:n--;n>=0&&("/"!==e[n]||0!=t--);n--);return e.substring(n+1)},String.prototype.fixUrl=function(){for(var t,e,n=this+"";(t=n.indexOf("../"))>0;){if(1===t||-1===(e=n.lastIndexOf("/",t-2)))return n.substring(t+3);n=n.substring(0,e)+n.substring(t+2)}return n},String.prototype.fullUrl=function(){var t=this+"";return t.match(/^(http|ftp|file)/)||(t=window.location.href.getDir()+t),t.fixUrl()},String.prototype.cleanupHTML=function(){for(var t=[[/<(b|h)r\/?>/gi,"\n"],[/\&amp;/g,"&"],[/\&nbsp;/g," "],[/\&lt;/g,"<"],[/\&gt;/g,">"],[/\&(m|n)dash;/g,"-"],[/\&apos;/g,"'"],[/\&quot;/g,'"']],e=this+"",n=t.length-1;n>=0;n--)e=e.replace(t[n][0],t[n][1]);return e.replace},String.prototype.stripHTML=function(t){var e=this+"";return t&&(e=e.cleanupHTML()),e.replace(/<\/?[^>]+>/g," ")},String.prototype.stripQuote=function(){return(this+"").replace(/\"/gi,"&quot;")},String.prototype.appendSep=function(t,e){return(this.length?this+(e||" &middot; "):"")+t},String.prototype.rgb2hex=function(){var t=this+"";if("#"===t.charAt(0)||"transparent"===t)return t;var e,n=t.match(/\d+/g),r="";if(n){for(var o=0;o<n.length&&o<3;++o)r+=((e=parseInt(n[o],10).toString(16)).length<2?"0":"")+e;return"#"+r}return"transparent"},String.prototype.template=function(t){if(void 0===t||!this)return this;!isNaN(parseFloat(t))&&isFinite(t)&&(t+="");var e=this+"";if(t.constructor===Array)for(var n=0;n<t.length;++n)e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t[n]);else e=e.replace(/\{0\}/gi,t);return e},String.prototype.getSearchTerms=function(){var t=this+"";if(-1===t.indexOf('"'))return t.split(" ");var e,n=[];do{if((e=t.indexOf('"'))>0&&n.push.apply(n,t.substring(0,e).split(" ")),t=t.substring(e+1),(e=t.indexOf('"'))<0){n.push(t);break}n.push(t.substring(0,e)),t=t.substring(e+1)}while(t.length);return n},String.prototype.objectify=function(){if(!this||!this.length)return this;var t=this+"";"?"!==t.charAt(0)&&"#"!==t.charAt(0)||(t=t.substring(1));for(var e,n={},r=t.split("&"),o=0,i=r.length;o<i;++o)(e=r[o].split("=")).length>1&&("img"===e[0]?n.img=e[1]:n[e[0]]=decodeURIComponent(e[1]));return n},String.prototype.testIn=function(t){return"string"!=typeof t&&(t+=""),new RegExp(this,"i").test(t)},String.prototype.testExactMatch=function(t){if(t.constructor!==Array)return this==t+"";for(var e=0,n=t.length;e<n;++e)if(this==t[e])return!0;return!1},String.prototype.fixjAlbumPaths=function(t,e,n){var r=(this+"").replace(/\%24/g,"$");return t&&(r=r.replace(/\${resPath}/g,t)),e&&(r=r.replace(/\${rootPath}/g,e)),n&&(r=r.replace(/\${relPath}/g,n)),r},String.prototype.testMatch=function(t){if(typeof t===UNDEF)return!1;var e=this.toLowerCase();if(t.constructor!==Array)return e===(t+"").toLowerCase();for(var n=0,r=t.length;n<r;++n)if(e===t[n].toLowerCase())return!0;return!1},String.prototype.searchTerm=function(t,e,n){if(typeof t===UNDEF||!this.length)return!1;var r=(this+"").toLowerCase(),e=typeof e!==UNDEF&&e,n=typeof n!==UNDEF&&n,o=function(t,n){return t=" "+t+" ",/[\(\)\.,\+-_\[\]\/]/.test(n)?-1!==(e?t.indexOf(" "+n.toLowerCase()+" "):t.indexOf(" "+n.toLowerCase())):-1!==t.search(new RegExp("\\W"+n+(e?"\\W":""),"i"))};if(t.constructor===Array&&1===t.length&&(t=t[0]),t.constructor===Array){var i,a=t.length,s=0;for(i=0;i<a;i++)if(o(r,t[i])){if(!n)return!0;s++}else if(n)return!1;return s===a}return o(r,t)},String.prototype.hashCode=function(){for(var t=0,e=0,n=this.length;e<n;++e)t=(t<<5)-t+this.charCodeAt(e),t&=t;return t},Math.minMax=function(t,e,n){return(e=isNaN(e)?parseFloat(e):e)<t?t:e>n?n:e},Math.getRange=function(t,e){if(e.constructor!==Array)return t>=e?1:0;if(1===e.length)return t>=e[0]?1:0;if(t<e[0])return 0;for(var n=1;n<e.length&&!(t>=e[n-1]&&t<e[n]);n++);return n};var encodeJ=[];encodeJ[33]="%21",encodeJ[35]="%23",encodeJ[36]="%24",encodeJ[38]="%26",encodeJ[39]="%27",encodeJ[40]="%28",encodeJ[41]="%29",encodeJ[43]="%2B",encodeJ[44]="%2C",encodeJ[59]="%3B",encodeJ[60]="%3C",encodeJ[61]="%3D",encodeJ[62]="%3E",encodeJ[63]="%3F",encodeJ[64]="%40",encodeJ[123]="%7B",encodeJ[124]="%7C",encodeJ[125]="%7D",transCodeJ=[],transCodeJ[33]="%21",transCodeJ[39]="%27",transCodeJ[40]="%28",transCodeJ[41]="%29";var UNDEF="undefined",LOCAL="file:"===document.location.protocol,ONEDAY_S=86400,ONEDAY_MS=864e5,DIR_PATH=function(){var t=window.location.pathname,e=document.getElementsByTagName("html")[0].getAttribute("data-level")||0;do{t=t.substring(0,t.lastIndexOf("/"))}while(e--);return t+"/"}(),isEmpty=function(t){return null==t||0===Object.getOwnPropertyNames(t).length},paramize=function(t){if("number"==typeof t)return""+t;if("string"==typeof t)return t;if("object"==typeof t){for(var e="",n=Object.getOwnPropertyNames(t),r=n.length,o=0;o<r;o++)null!==t[n[o]]&&("img"===n[o]?e+="&img="+t[n[o]]:e+="&"+n[o]+"="+encodeURIComponent(t[n[o]]));if(e.length)return e.substring(1)}return""},allTrue=function(t){if(t&&t.constructor===Array){for(var e=0;e<t.length;++e)if(!t[e])return!1;return!0}return!0===t},removeEmpty=function(t){if(t&&t.constructor===Array){var e,n=new Array;for(e=0;e<t.length;e++)"string"==typeof t[e]&&t[e].length&&n.push(t[e]);return n}return t},getCoords=function(t){return t.touches?1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.changedTouches&&1==t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:null:{x:t.clientX,y:t.clientY}},translate=function(t,e){if(t=t.trim(),"undefined"!=typeof Texts&&Texts.hasOwnProperty(t))return Texts[t];if(void 0!==e)return DEBUG&&console&&console.log("Using default translation: "+t+"="+e),e;DEBUG&&console&&console.log("Missing translation: "+t);var n=t.replace(/([A-Z])/g," $1").toLowerCase();return n[0]=n.charAt(0).toUpperCase(),n},getKeys=function(t,e){var n,r={},o=t.split(","),i=o.length;for(n=0;n<i;n++)r[o[n]]=translate(o[n],e[o]);return r},getTranslations=function(t){var e,n={};for(e in t)"object"==typeof t[e]?n[e]=getTranslations(t[e]):n[e]=translate(e,t[e]);return n},readData=function(t,e){var n={};if(t&&t.length&&e){e=e.split(",");for(var r,o=0;o<e.length;o++)null!=(r=t.data(e[o]))&&(n[e[o]]=r)}return n},niceFloat=function(t){var e=parseFloat(t),n=Math.abs(e),r=function(t){return t<10?t.toFixed(1):Math.round(t)};return n<1e-4?"0":n<.1?e.toFixed(3):n<1?e.toFixed(2):n<1e3?r(e):n<1e6?r(e/1e3)+"k":n<1e9?r(e/1e6)+"M":n<1e12?r(e/1e9)+"G":e.toExponential()},toCurrency=function(t,e){return parseFloat(t).toLocaleString(LANGUAGE,{style:"currency",currency:e||"EUR"})},getRelativeDate=function(t){if(!t)return translate("today");if(1===t)return translate("yesterday");var e,n;return t>=730?(e=translate("yearsAgo"),n=Math.round(t/365)):t>=60?(e=translate("monthsAgo"),n=Math.round(t/30.5)):(e=translate("daysAgo"),n=t),e.replace("{0}",n)},getTimespan=function(t){if(!t)return translate("inThePast24Hours");if(t<2)return translate("inThePast48Hours");var e,n;return t>=730?(e=translate("inThePastNYears"),n=Math.round(t/365)):t>=60?(e=translate("inThePastNMonths"),n=Math.round(t/30.42)):(e=translate("inThePastNDays"),n=t),e.replace("{0}",n)},getRelativePath=function(t,e){if(typeof e===UNDEF||!e.length||typeof t===UNDEF||!t.length)return"";if(e.endsWith("/")||(e+="/"),"/"===t)return e;if(t.endsWith("/")||(t+="/"),t===e)return"";var n="../../../../../../../../../../../../../../../../../../../../",r=t.split("/");if("/"===e)return n.substring(0,3*r.length);for(var o=e.split("/");r.length&&o.length&&r[0]===o[0];)r.shift(),o.shift();return n.substring(0,3*(r.length-1))+o.join("/")},encodeAsJava=function(t){var e="";for(t=/^(https?:|file:)?\/\//i.test(t)?encodeURI(t):encodeURIComponent(t),i=0;i<t.length;i++)e+=encodeJ[t.charCodeAt(i)]||t.charAt(i);return e},transcodeJavaURIComponent=function(t){var e="";for(i=0;i<t.length;i++)e+=transCodeJ[t.charCodeAt(i)]||t.charAt(i);return e},extend=function(){if(arguments.length<2)return arguments[0]||{};for(var t=arguments[0],e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},passDefaults=function(t,e,n){if(t&&e)if(void 0!==n){n=n.split(",");for(var r=0;r<n.length;r++)t.hasOwnProperty(n[r])&&(e[n[r]]=t[n[r]])}else for(var o in t)e[o]=t[o]},readUserPrefs=function(t,e){if(void 0!==e&&t){e=e.split(",");for(var n,r=0;r<e.length;r++)null!==(n=$.cookie(e[r]))&&(t[e[r]]=n)}},addParam=function(t,e,n){if(HISTORY){var r=window.location.hash;r&&(history.state?(history.state.hasOwnProperty("img")&&(history.state.img=encodeURIComponent(history.state.img)),e=extend(history.state,e)):("#"===r.charAt(0)&&(r=r.substring(1)),e=extend(r.objectify(),e))),(r="#"+paramize(e))!==window.location.hash&&history.pushState(e,void 0===n?"":n,r.length>1?r:t||"index.html")}},setParam=function(t,e,n){if(HISTORY){var r="#"+paramize(e);r!==window.location.hash&&history.pushState(e,void 0===n?"":n,r.length>1?r:t||"index.html")}},removeParam=function(t,e,n){if(HISTORY){var r,o=window.location.hash;o&&(void 0===e?(o="",history.pushState("","",t||"index.html")):("#"===o.charAt(0)&&(o=o.substring(1)),(r=o.objectify()).hasOwnProperty(e)&&(delete r[e],o="#"+paramize(r)),history.pushState(r,void 0===n?"":n,o.length>1?o:t||"index.html")))}},removeSearch=function(t){HISTORY&&history.replaceState(history.state,void 0===t?"":t,window.location.href.replace(window.location.search,""))},readParam=function(){if(HISTORY){if(history.state)return history.state.hasOwnProperty("img")&&(history.state.img=encodeURIComponent(history.state.img)),history.state;var t=window.location.hash;return"#"===t.charAt(0)&&(t=t.substring(1)),t.objectify()}return null},videoDurationMs=function(t){var e=t.match(/(\d{2})\:(\d{2})\:(\d{2})\.(\d+)/);return e?parseInt(e[4])+1e3*parseInt(e[3])+6e4*parseInt(e[2])+36e5*parseInt(e[1]):null},currencyToHtml={USD:"US$",EUR:"&euro;",GBP:"GB&pound;",JPY:"&yen;",HUF:"Ft",CAD:"CAN$",AUD:"AU$",RUB:"&#8381;"},codeToCurrency=function(t){return currencyToHtml.hasOwnProperty(t)?currencyToHtml[t]:t},printImage=function(t,e,n){if(t){var r=window.open("about:blank","print","location=no,status=no,titlebar=no");r.document.open(),r.document.write('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title>'+(e||"Print")+'</title>\n<script>printOut=function(){window.print();window.close();}<\/script>\n<style>body{margin:0;padding:0;text-align:center;overflow:hidden;}\nimg{display:block;width:100%;height:auto;vertical-align:top;}</style>\n</head>\n<body onLoad="setTimeout(printOut,100)"><img src="'+t+'">'+(n||"")+"</body>\n</html>"),r.document.close()}},xDecrypt=function(t){var e,n,r,o=[147,163,87,254,153,4,198,23],i=t.length,a=5*Math.ceil(i/8),s=new Array(a),c="",l=0;for(e=0;e<a;e++)s[e]=0;for(e=0;e<i;e++)(r=t.charCodeAt(e)-48)>9&&(r-=7),r<<=11-l%8,(n=l>>3)<a&&(s[n]|=r>>8,++n<a&&(s[n]|=255&r)),l+=5;for(e=0;e<a;e++)s[e]^=o[e%8];for(a=s[0]|s[1]<<8,r=0,e=4;e<a;e++)c+=String.fromCharCode(s[e]),r+=s[e];return r!=(255&s[2]|s[3]<<8)&&(c=""),c},getStyle=function(t,n){if(t instanceof Element){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(t,"").getPropertyValue(n.unCamelCase());if(t.currentStyle)return e.currentStyle[n]}return null},scrollbarWidth=function(){var t=document.createElement("div");t.style.cssText="width:100px;height:100px;overflow:scroll !important;position:absolute;top:-9999px",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},isTouchEnabled=function(){return/Trident/.test(navigator.userAgent)?void 0!==navigator.maxTouchPoints&&navigator.maxTouchPoints:/Edge/.test(navigator.userAgent)?0==scrollbarWidth():/(Chrome|CriOS)/.test(navigator.userAgent)?/Mobile/.test(navigator.userAgent)||"ontouchstart"in window:"ontouchstart"in window},getTouch=function(){return/Trident|Edge/.test(navigator.userAgent)?window.navigator.pointerEnabled?{START:"pointerdown",MOVE:"pointermove",END:"pointerup",CANCEL:"pointercancel"}:{START:"MSPointerDown",MOVE:"MSPointerMove",END:"MSPointerUp",CANCEL:"MSPointerCancel"}:{START:"touchstart",MOVE:"touchmove",END:"touchend",CANCEL:"touchcancel"}},hasLocalStorage=function(){try{return localStorage.setItem("_t","undefined"),localStorage.removeItem("_t"),!0}catch(t){return!1}},hasHistory=function(){var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},hasPDFViewer=function(){return navigator.mimeTypes["application/pdf"]||function(){var t=function(t){try{return new ActiveXObject(t)}catch(t){}};return t("AcroPDF.PDF")||t("PDF.PdfCtrl")}()||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},getVendor=function(){var t=navigator.userAgent;return t.indexOf("Trident")>0||t.indexOf("Edge")>0?"ms":t.indexOf("AppleWebKit")>0?"webkit":t.indexOf("Gecko")>0?"moz":t.indexOf("Presto")>0?"o":t.indexOf("Blink")>0?"webkit":""},loadGoogleAnalytics=function(t,e,n){if(!LOCAL){var r=xDecrypt(t);if("classic"===e){var o=o||[];o.push(["_setAccount",r]),o.push(["_trackPageview"]),function(t){var e=t.createElement("script");e.async=!0,e.src=("https:"===t.location.protocol?"https://ssl":"http://www")+(n?".stats.g.doubleclick.net/dc.js":".google-analytics.com/ga.js");var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}(document)}else"universal"===e?(!function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"ga"),ga("create",r,"auto"),n&&ga("require","displayfeatures"),ga("send","pageview")):gtag("config",r,{send_page_view:!0})}},loadGoogleAPI=function(t,e){if(!LOCAL){!function(t,e,n,r,o,i,a){(i=e.createElement(n)).appendChild(e.createTextNode("{parsetags:'explicit',lang:'${lang}'}")),a=e.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//apis.google.com/js/platform.js");var n=30,r=function(){"undefined"==typeof gapi?n--?setTimeout(r,200):"console"in window&&console.log("Google Plus API failed to load!"):setTimeout(function(){gapi[e].go()},200)};t&&r()}},loadFacebookAPI=function(t,e){LOCAL||(window.fbAsyncInit=function(){typeof jQuery!==UNDEF&&jQuery(".social-links").trigger("updateLinks")},function(n,r,o){var i,a=n.getElementsByTagName(r)[0];n.getElementById(o)||((i=n.createElement(r)).id=o,i.src="https://connect.facebook.net/"+(e||"en_US")+"/sdk.js#xfbml=1&version=v3.0&appId="+xDecrypt(t),a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk"))},loadDisqusAPI=function(t){LOCAL||function(e,n){(n=e.createElement(n)).async=1,n.src="https://"+xDecrypt(t)+".disqus.com/embed.js",n.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(n)}(document,"script")},loadPinterestAPI=function(){LOCAL||function(t,e){(e=t.createElement(e)).async=1,e.src="https://assets.pinterest.com/js/pinit.js",(t.head||t.body).appendChild(e)}(document,"script")},loadAPIs=function(t,e){if(t&&!isEmpty(t))for(var n in t)if(typeof e===UNDEF||e[n])switch(n){case"googleAnalytics":loadGoogleAnalytics(t[n][0],t[n][1],t[n][2]);break;case"googlePlus":loadGoogleAPI(t[n][0],t[n][1]);break;case"facebook":loadFacebookAPI(t[n][0]);break;case"disqus":loadDisqusAPI(t[n][0]);break;case"pinterest":loadPinterestAPI()}},askTrackingConsent=function(t,e){if(e&&!isEmpty(e)||t.cookiePolicy){t=$.extend({},{stay:15},t),e=e||{};var n=getTranslations({cookiePolicyText:"This album is using cookies to remember your preferences. It does not track you, neither it stores personal data.",cookiePolicyLearnMore:"Learn more",cookiePolicyAgree:"Got it",gdprComplianceText:"This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.",allowAll:"Allow all",denyAll:"Deny all",allowSelected:"Allow selected"}),r=$.cookie("trackingConsent"),o=!1,i=!1,a="icon-checkbox-checked",s="icon-checkbox-unchecked",c=function(t){var e=$(t.target),n=e.hasClass(a);e.toggleClass(a,!n).toggleClass(s,n),l()},l=function(){var t=$("#trackingConsent span."+a).length>0;$("#allow,#deny").toggle(!t),$("#allowsel").toggle(t)},u=function(t){var n,r=$("#trackingConsent span");return n=$.extend({},$.cookie("trackingConsent"),{cookie:1}),"allow"===this.id?r.each(function(){$(this).removeClass(s).addClass(a),n[$(this).attr("id")]=1}):"deny"===this.id?r.each(function(){$(this).removeClass(a).addClass(s),n[$(this).attr("id")]=0}):"allowsel"===this.id&&r.each(function(t){n[$(this).attr("id")]=$(this).hasClass(a)}),$.cookie("trackingConsent",n,31622400),d(),loadAPIs(e,n),!1},d=function(){$("#cookiepolicy").fadeOut(500,function(){$(this).remove()})};if(r?(o=!function(){for(var t in e)if(!r.hasOwnProperty(t))return!1;return!0}(),i=t.cookiePolicy&&!r.hasOwnProperty("cookie")):o=i=!0,o||loadAPIs(e,r),o||i){var g,p=$("<div>",{id:"cookiepolicy"}).appendTo($("body"));if(p.append($("<a>",{class:"close",html:"&times;"}).on("click",d)),i&&(g=$("<p>",{id:"cookiePolicy",html:n.cookiePolicyText}).appendTo(p),o||(g.append($("<a>",{id:"agree",class:"btn",text:n.cookiePolicyAgree}).on("click",u)),t.cookiePolicyUrl&&g.append(" ").append($("<a>",{text:n.cookiePolicyLearnMore,target:"_blank",href:t.cookiePolicyUrl})))),o){g=$("<p>",{id:"trackingConsent",html:n.gdprComplianceText}).appendTo(p);for(var h in e)g.append($("<span>",{id:h,class:r&&r[h]?a:s,html:"&nbsp;"+h.capitalize()}).on("click",c));g.append($("<a>",{id:"allow",class:"btn",text:n.allowAll}).on("click",u)),g.append($("<a>",{id:"deny",class:"btn",text:n.denyAll}).on("click",u)),g.append($("<a>",{id:"allowsel",class:"btn",text:n.allowSelected}).on("click",u)),l(),t.cookiePolicyUrl&&g.append(" ").append($("<a>",{text:n.cookiePolicyLearnMore,target:"_blank",href:t.cookiePolicyUrl}))}p.fadeIn(500),setTimeout(function(){$("#cookiepolicy").fadeOut(500,function(){$(this).remove()})},1e3*t.stay)}}},NOLINK="javascript:void(0)",LOCALSTORAGE=hasLocalStorage(),HISTORY=hasHistory(),VEND=getVendor(),BACKFACEBUG=navigator.userAgent.indexOf("Edge")>0&&parseInt(navigator.userAgent.match(/Edge\/(\d+\.\d+)/)[1])<=16,FITCONTENT=/Trident/.test(navigator.userAgent)||/Edge/.test(navigator.userAgent)?(document.getElementsByTagName("html")[0].classList.add("no-fitcontent"),!1):(document.getElementsByTagName("html")[0].classList.add("fitcontent"),!0),ISIOSDEVICE=navigator.userAgent.match(/ipad|iphone|ipod/i),TOUCH=getTouch(),TOUCHENABLED=isTouchEnabled(),HIDPI=matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)").matches;HASPDFVIEWER=hasPDFViewer(),LANGUAGE=navigator.hasOwnProperty("languages")?navigator.languages[0]:navigator.language,addClass(document.getElementsByTagName("html")[0],(TOUCHENABLED?"":"no-")+"touch"),addClass(document.getElementsByTagName("html")[0],(HIDPI?"":"no-")+"hidpi");var log=function(){},DEBUG=void 0!==DEBUG&&DEBUG;!function(t,e){"use strict";var n,r,o=!1,i=1;log=function(e){var a=function(e){if(t.isArray(e)){for(var n="",r=0;r<e.length;r++)n+=a(e[r])+", ";return"[ "+n.substring(0,n.length-2)+" ]"}if("object"==typeof e){n="";for(var r in e)n+=r+": "+a(e[r])+",<br>";return"{ "+n+" }"}return isNaN(e)?e:parseInt(e)===e?e:e.toFixed(4)};DEBUG&&!o&&(n||(n=t('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:0.75em;z-index:999999"></div>').hover(function(){o=!0},function(){o=!1}).appendTo("body")),e===r?n.children().first().empty().html(r+" <sup>("+ ++i+")</sup>"):(t('<div style="height:3em;overflow:auto;">'+a(e)+"</div>").prependTo(n),r=e,i=1))},t.fn.logEvents=function(e){if(DEBUG){var n=e||"mousedown mouseup mouseover mouseout mousewheel wheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp gesturestart gesturechange gestureend";return this.each(function(){t(this).on(n,function(t){return void 0===t?log("Undefined event"):t.target?"log"!==t.target.id&&log(t.type+' <span style="padding:0 4px;font-size:0.75em;background-color:#000;border-radius:4px;"><b>'+(t.target.nodeName?t.target.nodeName.toLowerCase():"???")+"</b>"+(t.target.id?":"+t.target.id:"")+"</span>"+(t.relatedTarget?' <span style="padding:0 4px;font-size:0.6em;background-color:#800;border-radius:4px;"><b>'+t.relatedTarget.nodeName.toLowerCase()+"</b>"+(t.relatedTarget.id?":"+t.relatedTarget.id:"")+"</span>":"")):log("No event target!"),!0})})}},t.fn.logCss=function(e,n,r){if(DEBUG){r=r||20,n=n||2e3;var o=new Date;return this.each(function(){var i=t(this),a=function(t){var e=new Date-o;log(e+"&nbsp;::&nbsp;"+t+" = "+i.css(t)),e>n&&clearInterval(s)},s=setInterval(function(){if(t.isArray(e))for(var n=0;n<e.length;n++)a(e[n]);else a(e)},r)})}},void 0===t.fn.deserialize&&(t.fn.deserialize=function(e){if(!e)return this;var n=t(this),r=e.replace(/\+/g,"%20").split("&");return t.each(r,function(t,e){var r=e.split("="),o=decodeURIComponent(r[0]),i=decodeURIComponent(r[1]),a=n.find("[name="+o+"]");if("radio"===a[0].type||"checkbox"===a[0].type){var s=a.filter('[value="'+i+'"]'),c=s.length;c||"on"!==i?s.prop("checked",c):a.eq(0).prop("checked",!0)}else a.val(i)}),this}),void 0===t.when.all&&(t.when.all=function(e){var n=new t.Deferred;return t.when.apply(t,e).then(function(){n.resolve(Array.prototype.slice.call(arguments))},function(){n.fail(Array.prototype.slice.call(arguments))}),n}),t.fn.waitAllImg=function(e,n,r){if(this.length){var o=t(this),i=[];return function(e){return e.filter('img[src!=""]').each(function(){i.push(function(e){var n=new t.Deferred,r=new Image;return r.onload=function(){n.resolve(e)},r.onerror=function(){n.reject(new Error("Image not found: "+e.src))},r.src=e.src,n}(this))}),e.filter('video[src!=""]').each(function(){i.push(function(e){var n=new t.Deferred,r=document.createElement("VIDEO");return r.addEventListener("loadedmetadata",function(){n.resolve(e)}),r.addEventListener("error",function(){n.reject(new Error("Video not found: "+e.src))}),r.src=e.src,n}(this))}),t.when.all(i)}(o).then(function(r){t.isFunction(n)&&n!==e&&n.call(r)},function(e){t.isFunction(r)&&r.call(e)}).then(function(){t.isFunction(e)&&e.call(o)}),this}e.call(o)};var a=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};t.fn.fullScreen=function(t){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(void 0===t?a():void(t?function(t){a()||(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&document.body.msRequestFullscreen())}(this[0]):a()&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())))}}(jQuery);
!function(e){"use strict";var t=function(){try{return localStorage.setItem("_t",VER),localStorage.removeItem("_t"),!0}catch(e){return!1}}(),r=DIR_PATH||"/";e.cookie=function(e,n,o){var i=function(e){return!!/^(true|yes)$/.test(e)||!/^(false|no)$/.test(e)&&(/^([\d.]+)$/.test(e)?parseFloat(e):e)},a=function(e){if("string"!=typeof e)return e;if("["===e[0]||"{"===e[0]){e=JSON.parse(e);for(var t in e)"string"==typeof t[e]&&(t[e]=i(t[e]));return e}return i(e)};if(arguments.length>1){l=new Date;return null===n?t?localStorage.removeItem(r+e):document.cookie=encodeURIComponent(e)+"=; expires="+l.toGMTString()+"; path="+r:(n="object"==typeof n?JSON.stringify(n):String(n),l.setTime(l.getTime()+1e3*("number"!=typeof o?3600:o)),t?localStorage.setItem(r+e,n+"; @"+String(l.getTime())):document.cookie=encodeURIComponent(e)+"="+n+"; expires="+l.toGMTString()+"; path="+r),n}if(e)if(t){if(s=localStorage.getItem(r+e)){if(1===(s=s.split("; @")).length&&(s=s[0].split("; ")),!(s.length>1))return a(s);var l;if((l=new Date).getTime()<parseInt(s[1],10))return a(s[0]);localStorage.removeItem(r+e)}}else{var s,u=document.cookie.split(/;\s*/);e+="=";for(var g=0;g<u.length;g++)if(u[g].substring(0,e.length)===e)return a(u[g].substring(e.length))}return null}}(jQuery);
!function(t,e,o){"use strict";t.fn.thumbScroll=function(s){return s=t.extend({},t.fn.thumbScroll.defaults,s),this.each(function(){var i,n,l,a,r,c,u,h,d,f,p=t(this),g="_lts_"+Math.floor(1e4*Math.random()),m=t.extend({},s,JSON.parse(p.data("thumbscroll")||"{}")),C=p.find("."+m.clipClass),b=C.find("."+m.thumbContClass),w=p.closest(".cont").hasClass("thumbs-left")||p.closest(".cont").hasClass("thumbs-right"),v=!1,T=function(t){return t.preventDefault(),!1},M=function(t){t=typeof t!==UNDEF?t:w?b.position().top:b.position().left,i.toggleClass("disabled",t>-1),n.toggleClass("disabled",t<(w?C.height()-b.height()+1:C.width()-b.width()+1))},y=function(){b.css(w?{top:b.position().top,transition:"top 0ms linear"}:{left:b.position().left,transition:"left 0ms linear"})},x=function(e){var o,s;w?(o=C.height(),s=b.height()):(o=C.width(),s=b.width()),o&&s&&!(o>=s)&&t.isNumeric(e)&&(e=Math.minMax(o-s,e,0),p.addClass(m.scrollingClass),b.css(w?{top:e,transition:"top "+m.speed+"ms ease-out"}:{left:e,transition:"left "+m.speed+"ms ease-out"}).one("transitionend",function(){p.removeClass(m.scrollingClass),p.trigger("lazyloadThumbs",e)}),M(e))},k=function(t){return S(),x(w?b.position().left+C.width():b.position().top+C.height()),!1},E=function(t){return S(),x(w?b.position().top-C.height():b.position().left-C.width()),!1},S=function(t){"number"==typeof d&&clearTimeout(d),d=void 0!==t?t:setTimeout(function(){d=!1},m.seekStay)},D=function(e,o){if(!p.hasClass(m.scrollingClass)&&!d){if((e=o?t(o):b.find(m.activeClass)).length){var s,i,n,l,a,r;if(w?(s=e.position().top,i=e.outerHeight(!0),n=Math.round(i*m.headRoom),l=b.position().top,a=b.height(),r=C.height()):(s=e.position().left,i=e.outerWidth(!0),n=Math.round(i*m.headRoom),l=b.position().left,a=b.width(),r=C.width()),r>=a)return;if(s>r-i-n-l)l=Math.max(r-i-n-s,r-a);else{if(!(s<-l+n))return;l=-s+n}x(l)}}},O=function(t,e){return t.preventDefault(),e&&(y(),S(),x(w?b.position().top+C.height()*(e<0?-1:1):b.position().left+C.width()*(e<0?-1:1))),!1},H=function(t){if(a){var e=getCoords(t.originalEvent)[w?"y":"x"]-a;e&&b.css(w?"top":"left",Math.minMax(h,l+e,0))}else a=getCoords(t.originalEvent)[w?"y":"x"],p.addClass(m.scrollingClass);return!1},U=function(o){o.preventDefault(),c=b.position()[w?"top":"left"];var s=getCoords(o.originalEvent)[w?"y":"x"]-a,i=(new Date).getTime()-r;return"mouseup"===o.type?e.off("mousemove."+g+" mouseup."+g):b.off(TOUCH.MOVE+"."+g+" "+TOUCH.END+"."+g),S(),Math.abs(s)<10?(p.removeClass(m.scrollingClass),t(o.target).off("click."+g),t(o.target).closest("a").trigger("click",o)):(!function(t){t=Math.minMax(h,c+t,0),M(t),b.css(w?{top:t,transition:"top "+m.extraSpeed+"ms ease-out"}:{left:t,transition:"left "+m.extraSpeed+"ms ease-out"}).one("transitionend",function(){p.removeClass(m.scrollingClass)}),p.trigger("lazyloadThumbs",t)}(1e3*s/i),setTimeout(function(){p.removeClass(m.scrollingClass),t(o.target).off("click."+g)},30)),!1},N=function(o){return"mousedown"===o.type&&1!==o.which||(o.preventDefault(),!("touchstart"!==o.type||!(!o.originalEvent.touches||o.originalEvent.touches.length>1||p.hasClass(m.scrollingClass)))||(p.addClass(m.scrollingClass),y(),l=b.position()[w?"top":"left"],a=getCoords(o.originalEvent)[w?"y":"x"],r=(new Date).getTime(),u=0,(h=w?C.height()-b.height():C.width()-b.width())>=0||("mousedown"===o.type?(e.on("mousemove."+g,H).on("mouseup."+g,U),t(o.target).on("click."+g,T)):(t(o.target).closest("a").focus(),b.on(TOUCH.MOVE+"."+g,H).on(TOUCH.END+"."+g,U)),!1)))},z=function(){p.addClass(m.fillClass);var t,e,o;w?(t=b.position().top,e=b.height(),o=C.height()):(t=b.position().left,e=b.width(),o=C.width()),e>o?(v||(i.on("click."+g,k),n.on("click."+g,E),b.on(TOUCH.START+"."+g+" mousedown."+g,N),b.add(i).add(n).on("selectstart."+g,T),m.enableMouseWheel&&C.on("mousewheel."+g+" DOMMouseScroll."+g,O),v=!0),o-e>t&&(y(),b.css(w?{top:o-e,transition:"top 0ms linear"}:{left:o-e,transition:"left 0ms linear"})),M()):(p.removeClass(m.fillClass),i.add(n).add(b).add(C).off("."+g),v=!1,x(0))};C.length&&b.length&&((i=p.find("."+m.backClass)).length||(i=t("<button>",{class:m.backClass+" icon-arrow-"+(w?"up":"left")+" "+m.disabledClass}).appendTo(p)),(n=p.find("."+m.forwardClass)).length||(n=t("<button>",{class:m.forwardClass+" icon-arrow-"+(w?"down":"right")+" "+m.disabledClass}).appendTo(p)),o.on("resize."+g,function(){clearTimeout(f),f=setTimeout(z,100)}),p.on("scrollToActive",D),p.trigger("lazyloadThumbs",0),z())})},t.fn.thumbScroll.defaults={activeClass:"active",disabledClass:"disabled",backClass:"scroll-back",forwardClass:"scroll-forward",clipClass:"clip",thumbContClass:"thumb-cont",scrollingClass:"scrolling",fillClass:"fill",thumbsPosition:"top",speed:1e3,extraSpeed:600,seekStay:3e3,headRoom:1.75,enableMouseWheel:!0}}(jQuery,$(document),$(window));
!function(t){"use strict";t.fn.renderShares=function(e){e=t.extend({},t.fn.renderShares.defaults,e);var a=t(this),i=getTranslations({share:"Share",shareOn:"Share on",checkThisOut:"Found this page",localWarning:"Can't share local albums. Please upload your album first!"}),n=encodeURIComponent(e.callAction||i.checkThisOut),r=(e.label||i.share,function(i,r){if((r=typeof r!==UNDEF?t.extend({},e,r):e).hasOwnProperty("href")||(r.href=window.location.href),r.hasOwnProperty("description")?r.description=r.description.stripHTML():r.description=t("meta[name=description]").attr("content")||"",r.hasOwnProperty("title")?r.title=r.title.stripHTML():r.title=t("meta[name=title]").attr("content")||t("title").text()||"",!r.hasOwnProperty("image")){var s=t("link[rel=image_src]");r.image=s.length?s.attr("href"):window.location.href.getDir()+"folderthumb.jpg"}r.image.startsWith("http")||(r.image=window.location.href.getDir()+r.image);var o,l=encodeURIComponent(r.href),c=encodeURIComponent(r.title),d=encodeURIComponent(r.description),p=encodeURIComponent(r.image);a.find("."+e.className+" a").each(function(){var e=t(this);switch(e.data("share")){case"facebook":if(r.href.indexOf("#")>0)return;if(typeof FB!==UNDEF)return void e.off(".share").on("click.share",function(){return FB.ui({method:"feed",link:r.href,caption:r.title,description:r.description,picture:r.image}),!1});o="https://www.facebook.com/sharer.php?s=100&p%5Burl%5D="+r.href+"&p%5Bimages%5D%5B0%5D="+r.image+"&p%5Btitle%5D="+c;break;case"twitter":o="https://twitter.com/home?status="+c+": "+l;break;case"tumblr":o="https://www.tumblr.com/share/link?url="+l+"&name="+c;break;case"pinterest":o="https://pinterest.com/pin/create/button/?url="+l+"&media="+p+"&description="+c;break;case"linkedin":o="https://www.linkedin.com/shareArticle?mini=true&url="+l+"&title="+c+"&summary="+d;break;case"digg":o="https://digg.com/submit?url="+r.href;break;case"stumbleupon":o="https://www.stumbleupon.com/submit?url="+r.href+"&title="+c;break;case"reddit":o="https://www.reddit.com/submit?url="+r.href;break;case"email":e.attr({href:"mailto:?subject="+n+"&body="+c+"%0D%0A"+d+"%0D%0A"+encodeURI(r.href)});default:return}e.attr({href:o,target:"_blank"})})});return function(n){for(var s,n=t("<div>",{class:e.className}).appendTo(a),o=e.sites.split(","),l=0;l<o.length;l++)s=o[l],"facebook,twitter,tumblr,pinterest,linkedin,digg,stumbleupon,reddit,email".indexOf(s)>=0&&n.append(t("<a>",{class:e.buttonClassName+" icon-"+s.unCamelCase(),title:i.shareOn+" "+s.capitalize(),text:" "+(e.buttonLabels?s.capitalize():"")}).data("share",s));r(),n.children("a").addTooltip({pos:[2,1,0,1]})}(),e.hasOwnProperty("buttons")&&!LOCAL&&function(){for(var i=e.buttons.split(","),n=encodeURIComponent(window.location.href.split("#")[0]),r=encodeURIComponent(e.title||t("meta[name=title]").attr("content")||t("title").text()),s=e.image?window.location.href.getDir()+encodeURIComponent(e.image):t("link[rel=image_src]").attr("href"),o=t("<div>",{class:e.buttonsClassName}).appendTo(a),l=0;l<i.length;l++)switch(i[l]){case"facebook":o.append('<div class="likebtn fb-like" data-href="'+n+'" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div>');break;case"twitter":o.append('<a class="likebtn twitter-share-button icon-twitter" href="https://twitter.com/intent/tweet?text='+r+"&url="+n+'" data-size="large" target="_blank"> Tweet</a>');break;case"pinterest":o.append('<div class="likebtn"><a data-pin-do="buttonPin" data-pin-count="beside" data-pin-tall="true" data-pin-save="true" href="https://www.pinterest.com/pin/create/button/?url='+n+"&media="+s+"&description="+r+'" data-pin-do="buttonPin"></a></div>')}}(),a.closest(".modal").length&&a.find("."+e.className+" a").on("click",function(){return t(this).closest(".modal").trigger("close"),!0}),a.on("updateLinks",r),this},t.fn.renderShares.defaults={buttonLabels:!1,className:"shares",buttonsClassName:"buttons",buttonClassName:"butt",sites:"facebook,twitter,tumblr"}}(jQuery);
!function(t,o){"use strict";var i,e,a="undefined",n="function",s=function(){var t=(document.body||document.documentElement).style;if(void 0!==t.webkitTransition)i="-webkit-",e="webkitTransitionEnd";else if(void 0!==t.MozTransition)i="-moz-",e="transitionend";else if(void 0!==t.OTransition)i="-o-",e="oTransitionEnd";else{if(void 0===t.transition)return!1;i="",e="transitionend"}return!0}(),r={left:0,top:0,center:.5,middle:.5,right:1,bottom:1};t.fn.translateX=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?l.position().left-parseFloat(l.css("left")):l.position().left-l.data("leftPos")||0}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[i+"transform"]="translateX("+o+"px)",c[i+"transition"]=i+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var i=t(this);if(s)typeof f===n&&i.one(e,f),i.css(c);else{var a=i.data("leftPos");void 0===a&&i.data("leftPos",a=i.position().left),c.left=a+o,r?i.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(i[0])},50),i.css(c))}})},t.fn.translateY=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?l.position().top-parseFloat(l.css("top")):l.position().top-l.data("topPos")||0}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[i+"transform"]="translateY("+o+"px)",c[i+"transition"]=i+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var i=t(this);if(s)typeof f===n&&i.one(e,f),i.css(c);else{var a=i.data("topPos");void 0===left&&i.data("topPos",a=i.position().top),c.top=a+o,r?i.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(i[0])},50),i.css(c))}})},t.fn.translate=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?[l.position().left-parseFloat(l.css("left")),l.position().top-parseFloat(l.css("top"))]:[l.position().left-l.data("leftPos")||0,l.position().top-l.data("topPos")||0]}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[i+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",c[i+"transition"]=i+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var i=t(this);if(s)typeof f===n&&i.one(e,f),i.css(c);else{var a=i.data("leftPos");top=i.data("topPos"),void 0===a&&i.data("leftPos",a=i.position().left),void 0===top&&i.data("topPos",top=i.position().top),c.left=a+o[0],c.top=top+o[1],r?i.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(i[0])},50),i.css(c))}})},t.fn.translateXAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[i+"transform"]="translateX("+o+"px)",l[i+"transition-property"]=i+"transform, opacity",l[i+"transition-duration"]=p+"ms",l[i+"transition-timing-function"]=f+", linear"),this.each(function(){var i=t(this);if(s)typeof c===n&&i.one(e,c),i.css(l);else{var a=i.data("leftPos");void 0===a&&i.data("leftPos",a=i.position().left),l.left=a+o,p?i.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(i.css(l),typeof c===n&&setTimeout(function(){c.call(i[0])},50))}})},t.fn.translateYAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[i+"transform"]="translateY("+o+"px)",l[i+"transition-property"]=i+"transform, opacity",l[i+"transition-duration"]=p+"ms",l[i+"transition-timing-function"]=f+", linear"),this.each(function(){var i=t(this);if(s)typeof c===n&&i.one(e,c),i.css(l);else{var a=i.data("topPos");void 0===a&&i.data("topPos",a=i.position().top),l.top=a+o,p?i.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(i.css(l),typeof c===n&&setTimeout(function(){c.call(i[0])},50))}})},t.fn.translateAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[i+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",l[i+"transition-property"]=i+"transform, opacity",l[i+"transition-duration"]=p+"ms",l[i+"transition-timing-function"]=f),this.each(function(){var i=t(this);if(s)typeof c===n&&i.one(e,c),i.css(l);else{var r=i.data("leftPos"),u=i.data("topPos");typeof r===a&&i.data("leftPos",r=i.position().left),typeof u===a&&i.data("topPos",u=i.position().top),l.left=r+o[0],l.top=u+o[1],p?i.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(i.css(l),typeof c===n&&setTimeout(function(){c.call(i[0])},50))}})},t.fn.opacity=function(o,r,p,f){var c=t(this);if(typeof o===a||"boolean"==typeof o)return c.css("opacity");var l=!1,u={},y=function(){l||(l=!0,t.isFunction(f)&&f.call(c[0]))};return typeof r===n?(f=r,p="ease-out",r=0):typeof p===n&&(f=p,p="ease-out"),c.css("opacity")===o?(typeof f===n&&setTimeout(function(){f.call(c[0])},50),this):(u.opacity=o,s?r?(u[i+"transition"]="opacity "+r+"ms "+p,c.one(e,y),setTimeout(y,r+50),c.css(u)):(u[i+"transition"]="none",c.css(u),t.isFunction(f)&&setTimeout(function(){f.call(c[0])},50)):r?c.animate(u,{duration:r,easing:p,complete:f}):(c.css(u),typeof f===n&&setTimeout(function(){f.call(c[0])},50)),this)},t.fn.transform=function(o,p,f,c,l){var u=t(this).eq(0),y=u.data("transform")||{origo:[0,0],position:[0,0],origin:[.5,.5],baseSize:[u.width(),u.height()],baseScale:[1,1],scale:[1,1],rotate:0};if("object"!=typeof o)return y;arguments.length>1?(typeof p===n?(l=p,f="ease-out",p=void 0):typeof f===n?(l=f,f="ease-out"):typeof c===n&&(l=c,c=!1),"boolean"==typeof f&&(c=f,f="ease-out"),"boolean"==typeof p&&(c=p,p=void 0)):f="ease-out";var d,m=!1,g={},h=function(){setTimeout(function(){m||(m=!0,typeof l===n&&l.call(u[0]))},20)};if(o.hasOwnProperty("opacity")&&(g.opacity=o.opacity),o.hasOwnProperty("origo")){if(!s||c){var v=u.data("originalPosition");typeof v===a&&(v=[u.position().left,u.position().top],u.data("originalPosition",v)),o.origo[0]+=v[0],o.origo[1]+=v[1]}}else o.origo=y.origo;return o.hasOwnProperty("baseScale")?"number"==typeof o.baseScale&&(o.baseScale=[o.baseScale,o.baseScale]):o.baseScale=y.baseScale,o.hasOwnProperty("baseSize")?o.scale||o.size||(o.scale=[1,1]):o.baseSize=y.baseSize,o.hasOwnProperty("position")?(typeof o.position[0]===a&&(o.position[0]=y.position[0]),typeof o.position[1]===a&&(o.position[1]=y.position[1])):o.position=y.position,o.hasOwnProperty("origin")?("string"==typeof o.origin[0]&&(o.origin[0]=r[o.origin[0]]),"string"==typeof o.origin[1]&&(o.origin[1]=r[o.origin[1]])):o.origin=y.origin,o.hasOwnProperty("scale")?"number"==typeof o.scale&&(o.scale=[o.scale,o.scale]):o.hasOwnProperty("size")?o.scale=[o.size[0]/o.baseSize[0],o.size[1]/o.baseSize[1]]:o.scale=y.scale,d=[o.scale[0]*o.baseScale[0],o.scale[1]*o.baseScale[1]],u.data("transform",o),s&&!c?(o.origin[0]===y.origin[0]&&o.origin[1]===y.origin[1]||(g[i+"transform-origin"]=100*o.origin[0]+"% "+100*o.origin[1]+"%"),g[i+"transform"]="translate("+(o.origo[0]+o.position[0])+"px,"+(o.origo[1]+o.position[1])+"px)"+(1===d[0]&&1===d[1]?"":" scale("+d[0]+","+d[1]+")")+(o.rotate?" rotate("+o.rotate+"deg)":""),p?(g[i+"transition-property"]=i+"transform"+(void 0!==o.opacity?", opacity":""),g[i+"transition-duration"]=p+"ms",f&&(g[i+"transition-timing-function"]=f),typeof l===n&&(u.one(e,h),setTimeout(h,p+50)),u.css(g)):(g[i+"transition"]="none",u.css(g),typeof l===n&&setTimeout(function(){l.call(u[0])},50))):(g.left=o.origo[0]+o.position[0],g.top=o.origo[1]+o.position[1],o.hasOwnProperty("size")?(g.width=o.size[0],g.height=o.size[1]):(g.width=o.baseSize[0]*d[0],g.height=o.baseSize[1]*d[1],g.left-=(g.width-o.baseSize[0])*o.origin[0],g.top-=(g.height-o.baseSize[1])*o.origin[1]),p?u.animate(g,{duration:p,easing:f,complete:l}):(u.css(g),typeof l===n&&setTimeout(function(){l.call(u[0])},50))),this}}(jQuery,document);
!function(t,e,n,o){"use strict";t.fn.swipe=function(o){o=t.extend({onSwipedLeft:!1,onSwipedRight:!1,onSmallSwipe:!1,onSwipeStart:!1,onClick:!1,onFinished:!1,treshold:20,swipeoutSpeed:300,overTreshold:.25},o);var a=function(t){return[t.outerWidth(),t.outerHeight()]},i=function(t){return t.touches&&1===t.touches.length?[Math.round(t.touches[0].pageX),Math.round(t.touches[0].pageY)]:null!==t.clientX?[Math.round(t.pageX),Math.round(t.pageY)]:null},r=function(t){return t.touches&&1===t.touches.length?Math.round(t.touches[0].pageX):null!==t.pageX?Math.round(t.pageX):null};return this.each(function(){var u,l,s,c,p,d,f,h,g=t(this),w=g.parent(),m=g.data("lsw_ns")||"lsw_"+Math.floor(1e4*Math.random()),S=!0,v=null,T=(g.hasClass("audio")||g.hasClass("video"),function(t,e){e!==UNDEF?g.translateX(t,e):g.translateX(t)}),y=function(t,e){e!==UNDEF?g.translate(t,e):g.translate(t),g.translate([t.left,t.top])},E=function(t){return!!(t.originalEvent.touches&&t.originalEvent.touches.length>1)||(t.preventDefault(),S?(d=r(t.originalEvent)-p,T(f+d)):((d=i(t.originalEvent))[0]-=p[0],d[1]-=p[1],y({left:f[0]+d[0],top:f[1]+d[1]})),!1)},M=function(e){if(g.data("swipeEnded"))return!0;e.preventDefault(),g.data("swipeEnded",!0);var a=(new Date).getTime()-c,i=1+o.swipeoutSpeed/a,r=function(){"function"==typeof o.onFinished&&o.onFinished.call(g[0],e)},s=function(){d&&"function"==typeof o.onSmallSwipe&&o.onSmallSwipe.call(g[0],e),"function"==typeof o.onClick&&o.onClick.call(g[0],e)},p=function(t){t?"function"==typeof o.onSwipedRight&&o.onSwipedRight.call(g[0],e):"function"==typeof o.onSwipedLeft&&o.onSwipedLeft.call(g[0],e)};if("mouseup"===e.type||"mouseout"===e.type?(n.off("mousemove."+m),g.off("mouseup."+m+" mouseout."+m)):"pointerup"===e.type&&g.off("pointermove."+m+" pointerup."+m),g.data("taplength",a),S)if(Math.abs(d)>o.treshold){E=f+d*i;g.data("scrolling",!1),g.data("targetPos",E),g.data("currSpeed",d/a),T(E,o.swipeoutSpeed),v=setTimeout(r,20),p(d>0)}else d&&T(h,100),s();else if(function(e){return t.isArray(e)?Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)):Math.abs(e)}(d)>o.treshold){var w=parseInt(g.css("top")),E=[f[0]+d[0]*i,d[1]>0?Math.min(-w,f[1]+d[1]*i):Math.max(-w+l[1]-u[1],f[1]+d[1]*i)];d[0]>0&&E[0]-u[0]/2>l[0]*(o.overTreshold-.5)||E[0]+u[0]/2<l[0]*(.5-o.overTreshold)?(g.data("scrolling",!1),g.data("currSpeed",[d[0]/a,d[1]/a]),y(E,o.swipeoutSpeed),v=setTimeout(r,o.swipeoutSpeed+20),p(d[0]>=0)):y(E,o.swipeoutSpeed)}else(d[0]||d[1])&&y(h,100),s();return g.on("click."+m,D),setTimeout(function(){g.data("scrolling",!1),g.off("click."+m)},20),!1},D=function(t){return t.preventDefault(),!1};g.add(n).off("."+m),g.data("lsw_ns",m),e.on("resize."+m,function(){clearTimeout(s),s=setTimeout(function(){u=a(g),l=a(w)},50)}),g.attr("draggable","false").on(TOUCH.START+"."+m+" dragstart."+m+" mousedown."+m,function(e){return!(g.data("scrolling")||!t(e.target).closest(".caption").length&&!(e.originalEvent.touches&&e.originalEvent.touches.length>1||"mousedown"===e.type&&1!==e.which)&&"BUTTON"!==e.target.nodeName&&"A"!==e.target.nodeName&&("AUDIO"===e.target.nodeName||"VIDEO"===e.target.nodeName&&e.target.controls&&e.offsetY>t(e.target).height()-60?(t(e.target).trigger("click",e),0):("function"==typeof o.onSwipeStart&&o.onSwipeStart.call(g[0],e),"touchstart"!==e.type&&e.preventDefault(),g.data("scrolling",!1),g.data("swipeEnded",!1),g.data("taplength",0),c=(new Date).getTime(),h=g.position(),l=l||a(w),u=u||a(g),(S=l[1]>=u[1])?(p=r(e.originalEvent),d=0,f=g.translateX()):(p=i(e.originalEvent),d=[0,0],f=g.translate()),"mousedown"===e.type&&(n.on("mousemove."+m,E),g.on("mouseup."+m+" mouseout."+m,M)),"touchstart"!==e.type)))}).on(TOUCH.MOVE+"."+m+" drag."+m,E).on(TOUCH.END+"."+m,M).on("removeSwipe."+m,function(){setTimeout(function(){g.data("scrolling",!1)},20),g.removeAttr("draggable"),g.add(n).off("."+m)}).on("selectstart."+m,function(e){return t(e.target).closest(".caption").length>0})})}}(jQuery,jQuery(window),jQuery(document));
!function(t){"use strict";var o=["left","center","right"],e=["top","middle","bottom"];t.fn.alignTo=function(s,n){if(n=t.extend({},t.fn.alignTo.defaults,n),"string"==typeof s&&(s=t(s)),s instanceof t&&s.length){var i,a,p,l=t(window).width(),f=t(window).height(),r="fixed"===s.css("position"),u=function(o){var e={left:0,top:0};return o.parents().each(function(){if("fixed"===t(this).css("position"))return e.left=t(window).scrollLeft(),e.top=t(window).scrollTop(),e}),e}(s);if("AREA"===s[0].nodeName&&"RECT"===s[0].shape.toUpperCase()){var d=s[0].coords.split(",");a=parseInt(d[2],10)-parseInt(d[0],10),p=parseInt(d[3],10)-parseInt(d[1],10),(i=s.parent().offset()).left+=parseInt(d[0],10),i.top+=parseInt(d[1],10)}else i=r?s.position():s.offset(),a=s.outerWidth(),p=s.outerHeight();return i.left-=u.left,i.top-=u.top,t(this).each(function(){var s=t(this),d=s.find("."+n.nubClass),g=n.pos[2],h=n.pos[3];s.css("maxHeight","none");var c=s.outerWidth(),b=s.outerHeight(),m=i.left+n.pos[2]*a/2+(n.pos[2]-1)*n.gap,v=i.top+n.pos[3]*p/2+(n.pos[3]-1)*n.gap,x=m-n.pos[0]*c/2,M=v-n.pos[1]*b/2;(M<0||M+b>f)&&(1!==n.pos[2]?M=2*M+b>f?f-b:0:0===n.pos[3]?f>2*i.top+p&&(M=i.top+p+n.gap,h=2):2===n.pos[3]&&f<2*i.top+p&&(M=Math.max(0,i.top-b-n.gap),h=0),M<0&&(M=0)),(x<0||x+c>l)&&(1!==n.pos[3]?x=2*x+c>l?l-c:0:0===n.pos[2]?l>2*i.left+a&&(x=i.left+a+n.gap,g=2):2===n.pos[2]&&l<2*i.left+a&&(x=Math.max(0,i.left-c-n.gap),g=0),x<0&&(x=0),x+c>l&&s.css({maxWidth:l-x-(parseInt(s.css("paddingLeft"),10)+parseInt(s.css("paddingRight"),10))})),n.fixNub&&d.length&&(0===h?d.css({left:Math.round(i.left-x+a/2-n.nubSize),bottom:-2*n.nubSize}):2===h?d.css({left:Math.round(i.left-x+a/2-n.nubSize),top:-2*n.nubSize}):0===g?d.css({top:Math.round(i.top-M+p/2-n.nubSize),right:-2*n.nubSize}):2===g&&d.css({top:Math.round(i.top-M+p/2-n.nubSize),left:-2*n.nubSize})),r?s.css({position:"fixed",left:Math.round(x),top:Math.round(M)}):s.css({position:"absolute",left:Math.round(x+u.left),top:Math.round(M+u.top)}),s.removeClass("align-left align-center align-right valign-top valign-middle valign-bottom").addClass("align-"+o[g]).addClass("valign-"+e[h])})}},t.fn.alignTo.defaults={gap:0,pos:[1,2,1,0],fixNub:!0,nubClass:"nub",nubSize:5}}(jQuery);
!function(t,e){"use strict";t.fn.hideAllTooltips=function(){return this.each(function(){t(this).find("[data-tooltip-id]").each(function(){if(!t(this).data("tooltip-keep")){var e=t(this).attr("data-tooltip-id");e&&e.length&&t("#"+e).hide()}})})},t.fn.destroyAllTooltips=function(){return this.each(function(){t(this).find("[data-tooltip-id]").each(function(){var e=t(this).attr("data-tooltip-id");e&&e.length&&t("#"+e).remove()})})},t.fn.addTooltip=function(o,i){typeof o===UNDEF||"string"==typeof o||o.jquery||(i=o,o=null),i=t.extend({},t.fn.addTooltip.defaults,i);var n=function(e){var o=!1;return!(e.is(":hidden")||e.css("opacity")<.5)&&(e=e.parents().each(function(){if(t(this).is(":hidden")||t(this).css("opacity")<.5)return o=!0,!1}),!o)};return this.each(function(){if(this["data-tooltip-id"])return!0;var a,r,u,l,s,c=t(this),d=!1,f=!1,p=!1,h="_ltt_"+Math.floor(1e4*Math.random()),m=function(t){u=clearTimeout(u),d=!0},T=function(t){f||(u=clearTimeout(u),d=!1,u=setTimeout(y,100))},y=function(){d||(p=!1,r=clearTimeout(r),u=clearTimeout(u),a&&a.css({opacity:0}).one("transitionend",function(){t(this).css({display:"none"})}))},v=function(){var o=c.offset();u=clearTimeout(u),(!l||Math.abs(o.top-l.top)<1&&Math.abs(o.left-l.left)<1)&&(i.exclusive&&(c.data("tooltip-keep",!0),e.hideAllTooltips(c),c.data("tooltip-keep",null)),a.css({opacity:0,display:"block"}).alignTo(c,{gap:i.gap,pos:i.pos}).css({opacity:1}).one("transitionend",function(){t(this).css({display:"block"})}),p=!0),l=o},g=function(){return!!a&&a.is(":visible")&&a.css("opacity")>.99},b=function(e){c.off("."+h),r=clearTimeout(r),u=clearTimeout(u),t("#"+c.attr("data-tooltip-id")).remove(),c.attr("data-tooltip-id",null)};c.attr("data-tooltip-id",h).on("destroyTooltip",b).on("removeTooltip",y).on("focus."+h+" mouseenter."+h,function(e){if(n(t(e.target))){if(p=g(),s=new Date,l=c.offset(),a)u=clearTimeout(u);else if(!(a=function(e,o){var n;if(o)if("string"==typeof o)n=t("<div>",{html:o}).appendTo("body");else{if(!o.jquery)return null;n=t.contains(document.body,o[0])?o:o.appendTo("body")}else{if((o=e.data("tooltip"))?("."===o.charAt(0)?o=e.find(o).eq(0):"#"===o.charAt(0)&&(o=t(o)),o.jquery&&o.removeClass("hidden")):(o=e.attr("title"),e.removeAttr("title")),!o||!o.length)return null;n=t("<div>",{html:o}).appendTo("body")}return n.is(":empty")?null:(n.attr("id",e.attr("data-tooltip-id")).addClass(i.className).attr("role","tooltip").attr("aria-hidden",!0).hide().append(t("<span>",{class:i.nub})),n)}(c,o))||(a.on("mouseover."+h,m).on("mouseout."+h,T),a.find("input, textarea").on("focus."+h,function(){f=!0,m()}).on("blur."+h,function(){f=!1}),0))return b(),!0;r=clearTimeout(r),"mouse"===whatInput.ask("intent")&&(r=setTimeout(v,i.delay))}return!0}).on("blur."+h+" mouseleave."+h,function(e){n(t(e.target))&&(u=clearTimeout(u),u="mouse"===whatInput.ask("intent")?setTimeout(y,100):setTimeout(y,3e3))}).on("click."+h,function(e){if(n(t(e.target))){if(r=clearTimeout(r),i.touchToggle||"mouse"!==whatInput.ask("intent")){var o=new Date;if(i.touchToggle||o-s>1e3)return!(!function(o){var i=t(e.target).closest("a");return i.length&&i.attr("href")&&!i.attr("href").startsWith("javascript")}()||!g())||(function(t){t.preventDefault(),r=clearTimeout(r),u=clearTimeout(u)}(e),p?y():v(),!1)}p&&(u=clearTimeout(u),y()),d=!1}return!0})})},t.fn.addTooltip.defaults={delay:50,className:"tooltip",nub:"nub",stay:2e3,exclusive:!0,touchToggle:!1,pos:[1,2,1,0],gap:6}}(jQuery,$("body"));
!function(e,t,o){"use strict";e.fn.modal=function(n,a,s){if("string"==typeof n&&(n=e(document.createTextNode(n))),n instanceof e&&n.length){e.isArray(a)||(s=a,a=null),s=e.extend({},e.fn.modal.defaults,s);var l,d,i,c,r=e(this),u=getTranslations(e.fn.modal.text),h=!1,f="lmo_"+Math.floor(1e4*Math.random()),p=null,m=null,T=function(){c.css({overflow:"auto",maxHeight:.8*t.height()-(d.hasClass("has-header")?i.height():0)})},v=function(){return p=clearTimeout(p),l.destroyAllTooltips().fadeOut(s.speed,function(){h?l.hide().css("opacity",1):l.remove(),t.off("."+f)}),o.removeClass("has-modal"),!1};return function(){if(e.contains(document.documentElement,n[0]))d=(l=n).children().eq(0),i=d.find(".close").eq(0),c=d.find(".content").eq(0),h=!0;else if(l=e("<div>",{class:"modal"}).appendTo(r),d=e("<div>",{class:"window "+(s.class||""),role:"dialog"}).appendTo(l),(i=e("<a>",{class:"btn close",title:u.closeWindow}).appendTo(d)).addTooltip(),c=e("<div>",{class:"content"}).appendTo(d),s.title&&d.addClass("has-header").prepend(e("<header>",{text:s.title})),c.append(n.show()),a){var t,f,p=e("<div>",{class:"buttons"}).appendTo(c),m=function(t){t.preventDefault();var o=t.target;return e.isFunction(o.handler)&&!1!==o.handler.call(this)&&v(),!1};for(t=0;t<a.length;t++)f=e("<button>",{class:"button "+(a[t].c||""),html:" "+a[t].t}).on("click",m).appendTo(p),e.isFunction(a[t].h)&&(f[0].handler=a[t].h)}l.hide().css("opacity",1).fadeIn(s.speed),o.addClass("has-modal"),l.on("destroy",v),l.on("close",v),i.add(l).on("click",function(t){t.target===this&&(e.isFunction(s.onClose)&&s.onClose.call(this),v())}),T()}(),s.autoFade&&(p=setTimeout(v,s.autoFade)),t.on("resize."+f,function(){clearTimeout(m),m=setTimeout(T,20)}),this}},e.fn.modal.defaults={speed:300,autoFade:0,width:400,type:"normal"},e.fn.modal.text={closeWindow:"Close window"}}(jQuery,jQuery(window),jQuery("body"));
!function(n,e,t,o){"use strict";n.fn.addMap=function(e){e=n.extend({},n.fn.addMap.defaults,e);var o=function(n){var e,t;return"string"==typeof n?(n=n.split(","),e=parseFloat(n[0]),t=n.length>1?parseFloat(n[1]):0):(e=n[0]||n.lat||0,t=n[1]||n.lng||0),{lat:e,lng:t}};return n(this).each(function(){var a=n(this);if(typeof a.data("map-ns")===UNDEF){var r,l=n.extend({},e,readData(a,"location,type,zoom,label,markers,current")),s=[],i=-1,p=function(e,t){return!(s&&s.length&&(n.isNumeric(t)||(t=function(n){for(var e=0;e<s.length;e++)if(s[e].link===n)return e;return-1}(t)),t>=0&&t<s.length))||(s[t].setAnimation(google.maps.Animation.BOUNCE),r.setCenter(s[t].getPosition()),i=t,!1)},c=function(){s&&s.length&&i>=0&&(null!==s[i].getAnimation()&&s[i].setAnimation(null),i=-1)},g=function(){n.isFunction(l.onMarkerClick)&&l.onMarkerClick.call(this)},d=function(e){if("undefined"!=typeof google&&google.maps)n.isFunction(e)&&e.call(null);else{var o=t.createElement("script");o.type="text/javascript",o.src=l.apiUrl+"?key="+(l.apiKey||""),n.isFunction(e)&&(o.onload=function(){setTimeout(e,40)}),t.body.appendChild(o)}l.hasOwnProperty("onReady")&&l.onReady.call(this)},u=function(e,t){if(!a.data("rendered")){var i=l.markers.length,d=0,u=Math.minMax(10,Math.round(1e3/i),100),m=function(){d<i&&(l.markers[d].hasOwnProperty("latLng")&&(s[d]=new google.maps.Marker({map:r,position:l.markers[d].latLng,animation:google.maps.Animation.DROP}),l.markers[d].hasOwnProperty("title")&&s[d].setTitle(l.markers[d].title),l.markers[d].hasOwnProperty("link")&&(s[d].link=l.markers[d].link,google.maps.event.addListener(s[d],"click",g))),d++,setTimeout(m,u))};if(function(n){for(var e=0;e<n.length;e++)n[e].hasOwnProperty("pos")&&!n[e].hasOwnProperty("latLng")&&(n[e].latLng=o(n[e].pos))}(l.markers),l.markers&&l.markers.length>1){var h=function(n){for(var e,t=-180,o=-90,a=90,r=180,l=0;l<n.length;l++)(e=n[l].latLng)&&(r>e.lng&&(r=e.lng),a>e.lat&&(a=e.lat),t<e.lng&&(t=e.lng),o<e.lat&&(o=e.lat));return t<r&&(t=180,r=-180),o<a&&(o=90,a=-90),{east:t,west:r,north:o,south:a}}(l.markers);r=new google.maps.Map(a[0],{center:{lat:(h.north+h.south)/2,lng:(h.east+h.west)/2},zoom:l.zoom,mapTypeId:l.type,fullscreenControl:l.fullscreenControl,scrollwheel:!1,panControl:!1,controlSize:32}),s=[],m(),!l.fitBounds||h.east===h.west&&h.north===h.south||google.maps.event.addListenerOnce(r,"idle",function(){r.fitBounds(h)})}else{var f=l.hasOwnProperty("location")?o(l.location):l.markers[0].latLng;r=new google.maps.Map(a[0],{center:f,zoom:l.zoom,mapTypeId:l.type,fullscreenControl:l.fullscreenControl,scrollwheel:!1,panControl:!1,controlSize:32}),m()}l.hasOwnProperty("onTypeChanged")&&n.isFunction(l.onTypeChanged)&&google.maps.event.addListener(r,"maptypeid_changed",function(){l.onTypeChanged.call(r.getMapTypeId())}),l.hasOwnProperty("onZoomChanged")&&n.isFunction(l.onZoomChanged)&&google.maps.event.addListener(r,"zoom_changed",function(){l.onZoomChanged.call(r.getZoom())}),a.data("rendered",!0),a.on("setActive",p),a.on("resetMarkers",c),n.isFunction(t)&&t.call(null)}};l.autoLoad?d(u):d(),a.on("render",u)}})},n.fn.addMap.defaults={apiUrl:"https://maps.googleapis.com/maps/api/js",zoom:16,fitBounds:!0,type:"roadmap",fullscreenControl:!1,autoLoad:!1}}(jQuery,window,document);
!function(e,t,a,n,o){"use strict";e.fn.skin=function(o){o=e.extend({},e.fn.skin.defaults,o);var i,r,l,s,d,c,u,h,f=e(this).eq(0),p="lucid_skin",m=e("[data-audioplayer]"),g=m.length&&!m.data("paused"),v=getTranslations({newItem:"NEW",atFirstPage:"At first page",atLastPage:"At last page",atLastPageQuestion:"Where to go next?",startOver:"Start over",backToHome:"Back to home",upOneLevel:"Up one level",previousFolder:"Previous folder",nextFolder:"Next folder",download:"Download",print:"Print",metaBtn:"Photo data",clickToOpen:"Click to open this document with the associated viewer!"}),w=e("#lightbox"),y=e("#thumbnails"),C=e("#thumbnails .thumb-cont"),b=C.find(".thumb"),k=e("#controls"),T=e("#panels"),F=(e("#navigation"),e("#numbers")),A=0,P=0,x=1,D=!1,N=!1,S=new Date-1e4,O="",E=!1,M=new Date/1e3,L=null,I=null,U=null,z=null,q=null,H=!1,B=function(e){if(e)for(var t=0;t<b.length;t++)if(b.eq(t).attr("href").getFile()===e)return t;return-1},V=function(){if(window.location.hash!==O){O=window.location.hash;var e=readParam();if(e.hasOwnProperty("img")){var t=B(e.img);t>=0?se(t):removeParam(o.indexName,"img")}}},W=function(){f.addClass(o.fullscreenClass),e("html").fullScreen(!0)},X=function(){f.removeClass(o.fullscreenClass),e("html").fullScreen(!1)},_=function(e,t){var a=b.eq(typeof t===UNDEF?A:t).data("vars"),n=e.split(",");if(a&&(a=a.type))for(var o=0;o<n.length;o++)if(n[o]===a)return!0;return!1},j=function(t){t.each(function(){var t=e(this),a=this.id,n=k.find("[data-rel="+a+"]:visible");n.addClass("on"),t.css({left:Math.min(n.position().left,T.outerWidth()-t.outerWidth()),opacity:0,transform:"translateY(-16px)",display:"flex"}),window.requestAnimationFrame(function(){t.translateYAndFade(0,1,500,function(){e(this).css("display","flex"),"thumbnails"===a&&K()})})})},Q=function(t){t.each(function(){var a=this.id;e("#controls [data-rel="+a+"]").removeClass("on"),t.translateYAndFade(-16,0,500,function(){e(this).css("display","none")})})},K=function(t,a,n){var i,r,l,s,d=f.hasClass("thumbs-left")||f.hasClass("thumbs-right"),c=d?C.height():C.width(),u=e();i=typeof a===UNDEF?d?C.scrollTop():C.scrollLeft():a,C.find("a."+o.lazyloadClass).filter(function(){var t=e(this).position()[d?"top":"left"]+i;return t+c/2>=0&&t-2*c<=0}).each(function(){(r=e(this)).children("img").length||(s=r.data("vars").thumb)&&(l=e("<img>",{class:o.hideImageClass}).one("load",function(){e(this).addClass(o.showImageClass).removeClass(o.hideImageClass),e(this).parent().removeClass(o.lazyloadClass)}).attr("src",o.thumbsDir+"/"+s).appendTo(r),u.append(l))}),e.isFunction(n)&&(u.length?u.waitAllImg(n):n.call())},Y=function(e){return i.children("[data-rel="+e+"]")},R=function(){f.removeClass("paused").addClass("playing"),!o.auto&&o.backgroundAudioSlideshowControl&&m.trigger("fadeInPlayer"),q=clearTimeout(q),o.auto=!0,q=setTimeout(ue,h.delay/4),N=!1},Z=function(){o.auto&&o.backgroundAudioSlideshowControl&&m.trigger("fadeOutPlayer"),f.removeClass("playing").addClass("paused"),q=clearTimeout(q),o.auto=!1,N=!1},G=function(){H=!1,q=setTimeout(ue,h.delay/4),o.backgroundAudioSlideshowControl&&m.trigger("fadeInPlayer"),f.removeClass("paused").addClass("playing")},J=function(t){o.auto?(f.removeClass("playing").addClass("paused"),o.backgroundAudioSlideshowControl&&m.trigger("fadeOutPlayer"),H=!0,q=clearTimeout(q)):o.muteBackgroundAudio&&(g=!m.data("paused"))&&m.trigger("fadeOutPlayer"),e(this).closest("."+o.cardClass).addClass("playing")},$=function(t){o.auto?G():o.muteBackgroundAudio&&g&&m.trigger("fadeInPlayer"),e(this).closest("."+o.cardClass).removeClass("playing")},ee=function(){var e=typeof e===UNDEF?A:e,t=Y(e),a=t.length?t.find("video,audio")[0]:null;if(a)if(a.paused){var n=a.play();n&&n.catch(function(e){console.log("Autoplay has prevented by the browser. "+e),a.muted||(a.muted=!0,n=a.play())})}else a.pause()},te=function(){g=!1,o.auto&&G()},ae=function(){var e=window.getComputedStyle(i[0],null);i[0].style.transform=e.transform},ne=function(e,t){var a=Y(e);if(a.length){var n=(w.outerWidth()-a.outerWidth())/2-a.position().left;typeof t!==UNDEF?i.translateX(n,t):i.translateX(n)}},oe=function(){N&&(ne(A),N=!1)},ie=function(){var t=w.width()*h.fillHorz,a=w.height()*h.fillVert;w.removeClass("landscape portrait").addClass(t>=a?"landscape":"portrait"),ae(),i.children().each(function(){var n=e(this),i=n.data("rel");if(null!==i&&i>=0&&i<b.length){var r,l=b.eq(i);if(l.length&&(r=l.data("vars"))){var s,d=r.width,c=r.height;s=o.scaleUp?Math.min(t,d*a/c):d/t>c/a?Math.min(d,t):Math.min(d,d*a/c),n.width(s)}}}),ne(A)},re=function(){switch(i.removeClass("bwd fwd"),x&&i.addClass(x>0?"fwd":"bwd"),e(".map-root").trigger("resetMarkers"),o.transitionType){case"conveyor":var t=function(){ne(P,N?Math.min(350,h.adaptiveSpeed):h.adaptiveSpeed),N=!1,i.one("transitionend",function(e){e.originalEvent.target===this&&window.requestAnimationFrame(a)})},a=function(){le(P)};window.requestAnimationFrame(function(){var e=Y(P);i.children("."+o.currClass).removeClass(o.currClass),e.length&&(e.removeClass(o.nextClass+" "+o.prevClass).addClass(o.currClass),e.prevAll().removeClass(o.nextClass).addClass(o.prevClass),e.nextAll().removeClass(o.prevClass).addClass(o.nextClass)),x||N?setTimeout(function(){window.requestAnimationFrame(t)},50):le(P)})}o.auto&&!H&&(clearTimeout(q),q=setTimeout(ue,h.delay+h.speed)),A=P},le=function(t){!function(e){_("video,audio",e)&&(o.videoAuto?function(e){var e=typeof e===UNDEF?A:e,t=Y(e),a=t.length?t.find("video,audio")[0]:null;if(a){var n=a.play();n&&n.catch(function(e){console.log("Autoplay has prevented by the browser. "+e),a.muted||(a.muted=!0,n=a.play())})}}(P):function(e){var e=typeof e===UNDEF?A:e,t=Y(e),a=t.length?t.find("video,audio")[0]:null;a&&a.pause()}(P))}(t),e(".map-root").is(":visible")&&e(".map-root").trigger("setActive",t)},se=function(t){var a=new Date;t<0||t>=b.length||a-S<200||(P=t,x=function(e){if(D){if(A===b.length-1&&0===e)return 1;if(!A&&e===b.length-1)return-1}return e===A?0:e>A?1:-1}(),h.adaptiveSpeed=Math.minMax(h.speed/5,a-S,h.speed),S=a,A!==P||i.is(":empty")?function(){var t,a,n=e(),r=function(t){var a,r,l,s,d,c,u,f,p,m=w.width()*h.fillHorz,g=w.height()*h.fillVert,y=0,C=D?(t+b.length)%b.length:t;if((a=Y(C)).length||(a=e("<div>",{id:"card_"+t,"data-rel":C,class:o.cardClass})),C>=0&&C<b.length)if((s=a.children("img,video,object")).length)"VIDEO"===s[0].nodeName&&s[0].pause();else{switch(l=b.eq(C),u=l.data("vars"),a.addClass(u.type),f=u.width,p=u.height,y=o.scaleUp?Math.min(m,f*g/p):f/m>p/g?Math.min(f,m):Math.min(f,f*g/p),a.width(y),u.type){case"image":s=e("<img>").one("load",function(t){e(this).addClass(o.loadedClass)}).attr("src",l.attr("href")).appendTo(a);break;case"video":s=e("<video>",{controls:!0}).one("loadedmetadata",function(t){e(this).addClass(o.loadedClass)}).on("play",J).on("pause",$).on("ended",te).attr("src",l.attr("href")).appendTo(a)}if(d=e("<div>",{class:o.captionClass+" "+o.captionStyle+" "+o.captionPlacement}).appendTo(a),u.caption&&d.append(e("<div>",{class:"text",html:u.caption.replace(/_#34_/g,'"')})),c=e("<div>",{class:o.buttonsClass}),o.printImage&&"image"===u.type&&!o.rightClickProtect&&e("<a>",{class:"btn icon-printer",title:v.print}).on("click",function(e){return printImage(u.original&&o.showDownload?u.original:l.attr("href"),(u.original||l.attr("href")).getFile()||"",u.caption||""),!1}).appendTo(c),o.showDownload&&("image"===u.type||o.allowDownloadOthers)){var k=u.original;!k&&o.allowDownloadScaled&&(k=l.attr("href")),k&&e("<a>",{class:"btn icon-download",download:"",href:k,title:v.download}).appendTo(c)}u.photodata&&e("<a>",{class:"btn icon-camera meta",title:'<div class="photodata">'+u.photodata.replace(/_#34_/g,'"')+"</div>"}).appendTo(c),c.is(":empty")||(d.append(c),c.children().addTooltip()),o.rightClickProtect&&s.on("contextmenu",function(e){return e.preventDefault(),!1}),C<=P&&(n=n.add(s))}else a.addClass("blank").show(),a.find("img").addClass(o.loadedClass);t===P?(r=Y(t+1)).length?r.before(a):(r=Y(t-1)).length?r.after(a):i.append(a):t<P?(r=Y(t+1)).length?(r.before(a),y&&i.translateX(i.translateX()-y)):i.prepend(a):(r=Y(t-1)).length?r.after(a):i.append(a)},l=function(){var e;for(r(P),e=P-1;e>=t;e--)r(e);for(e=P+1;e<=a;e++)r(e);N||ne(A),n.length?1===n.length?n.one("load loadedmetadata",re):n.waitAllImg(re):re()};L=clearTimeout(L),t=P-h.before,x<0&&t--,a=P+h.after,x>0&&a++,window.requestAnimationFrame(function(){i.is(":empty")&&l();var n=Y(P);n.length?(n.nextAll().filter(function(){var t=e(this).data("rel");return D?t>P&&t>a||t<P&&t>a-b.length:t>a}).remove(),window.requestAnimationFrame(function(){var a=i.translateX(),o=n.prevAll().filter(function(){var a=e(this).data("rel");return D?a<P&&a<t||a>P&&a<t+b.length:a<t});o.each(function(){a+=e(this).width()}),o.remove(),i.translateX(a),window.requestAnimationFrame(l)})):l()})}():re(),function(e){b.removeClass(o.activeClass).eq(typeof e!==UNDEF?e:A).addClass(o.activeClass)}(P),function(e){var t=b.eq(e),a=t.attr("href").getFile();addParam(o.indexName,{img:a},t.attr("title")||a.stripExt())}(P),o.showNumbers&&function(e){F.length&&F.html("<h2>"+e+"</h2><p>"+b.length+"</p>")}(P+1))},de=function(t){ae();var a=(typeof t!==UNDEF?t:i.translateX())-w.width()/2,n=999999,r=null;i.children().each(function(){var t=e(this).position().left+e(this).width()/2,o=Math.abs(a+t);o<n&&(n=o,r=e(this).data("rel"))}),null!==r&&r!==A?(D?r>=b.length?se(0):r<0&&se(b.length-1):"nextfolder"===o.afterLast&&(r>=b.length&&o.nextFoldersFirst?(Z(),window.location.href=o.nextFoldersFirst):r<0&&o.previousFoldersLast&&(Z(),window.location.href=o.previousFoldersLast)),se(Math.minMax(0,r,b.length-1))):oe()},ce=function(){if(Q(y),N=!1,A)se(A-1);else{switch(Z(),o.afterLast){case"donothing":case"onelevelup":case"ask":Z();break;case"nextfolder":Z(),o.previousFoldersLast&&(window.location.href=o.previousFoldersLast);break;case"startover":return void se(b.length-1)}oe()}},ue=function(){if(Q(y),N=!1,A<b.length-1)se(A+1);else{switch(o.afterLast){case"donothing":Z();break;case"startover":return void se(0);case"onelevelup":Z(),o.level&&(window.location.href="../"+o.indexName);break;case"nextfolder":Z(),o.nextFoldersFirst&&(window.location.href=o.nextFoldersFirst);break;case"ask":Z();var t=new Array;return oe(),b.length>1&&t.push({t:v.startOver,c:"icon-loop",h:function(e){se(0)}}),o.level&&t.push({t:v.upOneLevel,c:"icon-up-one-level",h:function(){window.location.href="../"+o.indexName}}),o.nextFoldersFirst&&t.push({t:v.nextFolder,c:"icon-arrow-right",h:function(){window.location.href=o.nextFoldersFirst}}),void f.modal(e("<p>",{class:"text-center",text:v.atLastPageQuestion}),t,{onClose:function(){se(b.length-1)},class:"secondary",title:v.atLastPage})}oe()}};return function(){if(window.location.search&&removeSearch(),o.hasOwnProperty("share")&&(e.fn.renderShares.defaults.buttonTheme=o.share.buttonTheme||"dark",e.fn.renderShares.defaults.facebookAppId=o.share.facebookAppId||"",e(o.share.hook).renderShares(o.share)),t.on("hashchange."+p,V),window.location.hash){var m=window.location.hash.match(/img=(.+)/);m&&(-1!==(A=B(m[1]))?(E=!0,o.auto=!1):A=0)}k.find("[data-rel]").each(function(){var t=e(this),a=e("#"+t.data("rel"));a.length?(t.hasClass("on")&&j(a),t.addClass("has-panel").on("selectstart."+p,function(e){return e.preventDefault(),!1}).on("click."+p,function(){var t=e(this),a=t.data("autoclose"),n=e("#"+t.data("rel"));if(n.length)if(n.is(":visible"))Q(n);else if(Q(T.children(":visible")),j(n),a){var o,i;n.add(t).on("mouseenter."+p,function(){i=!0,o=clearTimeout(o)}).on("mouseover."+p,function(){i=!0}).on("mouseleave."+p,function(){clearTimeout(o),i=!1,o=setTimeout(function(){i||Q(n)},a)})}})):t.removeAttr("data-rel")}),y.length&&function(){var t,a,n=o.hasOwnProperty("markNew")?M-o.markNew.days*ONEDAY_S:null;b.each(function(o){e(this).data("rel",o).on("click",function(t){return"SPAN"!==t.target.nodeName&&(y.hideAllTooltips(),Q(y),se(e(this).data("rel"))),!1}),TOUCHENABLED||e(this).addTooltip(),n&&(t=e(this).data("vars").date)&&t>=n&&(a=e("<span>",{class:"icon-star new-image"}).appendTo(e(this)),TOUCHENABLED||a.data("tooltip",new Date(1e3*t).toLocaleDateString()).addTooltip())}),o.rightClickProtect&&C.on("contextmenu","img",function(e){return e.preventDefault(),!1}),C.on("scroll."+p,function(){clearTimeout(z),z=setTimeout(K,100)})}(),e("[data-audioPlayer]").length&&e("[data-audioPlayer]").audioPlayer({rootPath:o.rootPath,target:"playlist"}),o.hasOwnProperty("map")&&o.hasOwnProperty("map")&&(e(".map-root").addMap({markers:function(){var t=[];return b.each(function(a){var n=e(this).data("vars");typeof n!==UNDEF&&n.hasOwnProperty("location")&&t.push({title:[a+1+".",e(this).attr("title")].join(" "),pos:n.location,link:a})}),t}(),type:o.map.type||"roadmap",zoom:o.map.zoom||16,apiKey:o.map.apiKey,fitBounds:!0,fullscreenControl:!1,onMarkerClick:function(){this.hasOwnProperty("link")&&se(this.link)}}),e("#map-btn").on("click",function(){e(".map-root").data("rendered")||setTimeout(function(t){t.hasClass("on")&&e(".map-root").trigger("render")},20,e(this))})),w.length&&(function(){if(w.data("settings")&&e.extend(setting,w.data("settings")),(i=w.find("."+o.cardsClass)).length||(i=e("<div>",{class:o.cardsClass}).appendTo(w)),h=o.defaults[o.transitionType||"conveyor"],o.hasOwnProperty("transitionSpeed")&&(h.speed=o.transitionSpeed),o.hasOwnProperty("slideshowDelay")&&(h.delay=o.slideshowDelay),o.hasOwnProperty("fillHorz")&&(h.fillHorz=o.fillHorz/100),o.hasOwnProperty("fillVert")&&(h.fillVert=o.fillVert/100),D="startover"===o.afterLast,1===b.length?h.after=h.before=0:(h.after=Math.min(h.after,Math.ceil(b.length/2)),h.before=Math.min(h.before,Math.floor(b.length/2))),o.enableMouseWheel){var m=null;w.on("mousewheel."+p+" DOMMouseScroll."+p,function(e){return m=clearTimeout(m),m=setTimeout(e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?ce:ue,100),!1})}b.length>1&&((r=k.find(".previous")).on("click."+p,ce),(s=k.find(".play")).on("click."+p,R),(d=k.find(".pause")).on("click."+p,Z),(l=k.find(".next")).on("click."+p,ue)),o.showFullscreen&&((c=k.find(".fullscreen.btn")).length&&c.on("click."+p,W),(u=k.find(".windowed.btn")).length&&u.on("click."+p,X)),o.enableKeyboard&&a.on("keyup."+p,function(e){if(!f.length||w.children(".modal:visible").length||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName))return!0;switch(e.preventDefault(),e.keyCode){case 10:case 13:Q(y);break;case 33:case 37:ce();break;case 34:case 39:ue();break;case 97:case 35:se(b.length-1);break;case 103:case 36:se(0);break;case 106:case 179:q?Z():R();break;case 107:toggleZoom();break;case 32:_("video,audio")?ee():q?Z():R();break;default:return!0}return!1});var g=0,v=function(t){var a=new Date;if(a-g>100){if(g=a,y.is(":visible"))return Q(y),!1;if("BUTTON"!==t.target.nodeName&&"A"!==t.target.nodeName){var n=e(t.target).closest("."+o.cardClass);if(n.length&&n.data("rel")!==A)return se(n.data("rel")),!1;if(_("video,audio"))return ee(),!1}}return!0};i.swipe({onSwipedRight:function(e){N=!0,clearTimeout(I),I=setTimeout(de,50,i.data("targetPos"))},onSwipedLeft:function(e){N=!0,clearTimeout(I),I=setTimeout(de,50,i.data("targetPos"))},onSwipeStart:function(){n.hideAllTooltips(),Z()},onClick:v}).on("click."+p,v),t.on("resize."+p,function(){clearTimeout(U),U=setTimeout(ie,100)})}(),se(A)),e("[data-tooltip]").addTooltip(),o.auto&&w.length&&b.length>1&&R()}(),this},e.fn.skin.defaults={activeClass:"active",lazyloadClass:"lazyload",thumbsDir:"thumbs",indexName:"index.html",cardsClass:"cards",cardClass:"card",currClass:"curr",prevClass:"prev",nextClass:"next",loadedClass:"loaded",captionClass:"caption",buttonsClass:"buttons",hideImageClass:"hide-image",showImageClass:"show-image",fullscreenClass:"fullscreen",clickForNext:!0,backgroundAudioSlideshowControl:!1,muteBackgroundAudio:!0,videoAuto:!1,videoLoop:!1,volume:.5,auto:!1,afterLast:"donothing",rightClickProtect:!1,allowDownloadOthers:!1,showNumbers:!0,transitionType:"conveyor",captionStyle:"dark",captionPlacement:"center bottom",showFullscreen:!0,enableKeyboard:!0,enableMouseWheel:!0,scaleUp:!1,fillHorz:90,fillVert:100,defaults:{conveyor:{before:2,after:2,delay:1e3,speed:2e3,fillHorz:.9,fillVert:1},kenburns:{before:1,after:0,delay:0,speed:4e3},crossfade:{before:1,after:0,delay:1e3,speed:2e3},zoom:{before:1,after:0,delay:1e3,speed:2e3},slide:{before:1,after:0,delay:1e3,speed:2e3}},fit:"both"}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
